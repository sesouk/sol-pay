"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/makeTransaction";
exports.ids = ["pages/api/makeTransaction"];
exports.modules = {

/***/ "@solana/web3.js":
/*!**********************************!*\
  !*** external "@solana/web3.js" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("@solana/web3.js");

/***/ }),

/***/ "bignumber.js":
/*!*******************************!*\
  !*** external "bignumber.js" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("bignumber.js");

/***/ }),

/***/ "@solana/wallet-adapter-base":
/*!**********************************************!*\
  !*** external "@solana/wallet-adapter-base" ***!
  \**********************************************/
/***/ ((module) => {

module.exports = import("@solana/wallet-adapter-base");;

/***/ }),

/***/ "(api)/./lib/addresses.ts":
/*!**************************!*\
  !*** ./lib/addresses.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"shopAddress\": () => (/* binding */ shopAddress)\n/* harmony export */ });\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst shopAddress = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_0__.PublicKey('EQVsZofCQaH79ajTJDXSbyAopWUWmmWddnBAzZzCp23v');\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvYWRkcmVzc2VzLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUVwQyxLQUFLLENBQUNDLFdBQVcsR0FBRyxHQUFHLENBQUNELHNEQUFTLENBQUMsQ0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvYWRkcmVzc2VzLnRzPzllNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHVibGljS2V5IH0gZnJvbSBcIkBzb2xhbmEvd2ViMy5qc1wiO1xuXG5leHBvcnQgY29uc3Qgc2hvcEFkZHJlc3MgPSBuZXcgUHVibGljS2V5KCdFUVZzWm9mQ1FhSDc5YWpUSkRYU2J5QW9wV1VXbW1XZGRuQkF6WnpDcDIzdicpIl0sIm5hbWVzIjpbIlB1YmxpY0tleSIsInNob3BBZGRyZXNzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/addresses.ts\n");

/***/ }),

/***/ "(api)/./lib/calculatePrice.ts":
/*!*******************************!*\
  !*** ./lib/calculatePrice.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ calculatePrice)\n/* harmony export */ });\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bignumber.js */ \"bignumber.js\");\n/* harmony import */ var bignumber_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bignumber_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _products__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./products */ \"(api)/./lib/products.ts\");\n\n\nfunction calculatePrice(query) {\n    let amount = new (bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(0);\n    for (let [id, quantity] of Object.entries(query)){\n        const product = _products__WEBPACK_IMPORTED_MODULE_1__.products.find((p)=>p.id === id\n        );\n        if (!product) continue;\n        const price = product.priceSol;\n        const productQuantity = new (bignumber_js__WEBPACK_IMPORTED_MODULE_0___default())(quantity);\n        amount = amount.plus(productQuantity.multipliedBy(price));\n    }\n    return amount;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvY2FsY3VsYXRlUHJpY2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFvQztBQUVDO0FBRXRCLFFBQVEsQ0FBQ0UsY0FBYyxDQUFDQyxLQUFxQixFQUFhLENBQUM7SUFDeEUsR0FBRyxDQUFDQyxNQUFNLEdBQUcsR0FBRyxDQUFDSixxREFBUyxDQUFDLENBQUM7SUFDNUIsR0FBRyxFQUFFLEdBQUcsRUFBRUssRUFBRSxFQUFFQyxRQUFRLEtBQUtDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDTCxLQUFLLEVBQUcsQ0FBQztRQUNqRCxLQUFLLENBQUNNLE9BQU8sR0FBR1Isb0RBQWEsRUFBQ1UsQ0FBQyxHQUFJQSxDQUFDLENBQUNOLEVBQUUsS0FBS0EsRUFBRTs7UUFDOUMsRUFBRSxHQUFHSSxPQUFPLEVBQUUsUUFBUTtRQUV0QixLQUFLLENBQUNHLEtBQUssR0FBR0gsT0FBTyxDQUFDSSxRQUFRO1FBQzlCLEtBQUssQ0FBQ0MsZUFBZSxHQUFHLEdBQUcsQ0FBQ2QscURBQVMsQ0FBQ00sUUFBUTtRQUM5Q0YsTUFBTSxHQUFHQSxNQUFNLENBQUNXLElBQUksQ0FBQ0QsZUFBZSxDQUFDRSxZQUFZLENBQUNKLEtBQUs7SUFDekQsQ0FBQztJQUVELE1BQU0sQ0FBQ1IsTUFBTTtBQUNmLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvY2FsY3VsYXRlUHJpY2UudHM/ZWJjYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmlnTnVtYmVyIGZyb20gXCJiaWdudW1iZXIuanNcIjtcbmltcG9ydCB7IFBhcnNlZFVybFF1ZXJ5IH0gZnJvbSBcInF1ZXJ5c3RyaW5nXCI7XG5pbXBvcnQgeyBwcm9kdWN0cyB9IGZyb20gXCIuL3Byb2R1Y3RzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNhbGN1bGF0ZVByaWNlKHF1ZXJ5OiBQYXJzZWRVcmxRdWVyeSk6IEJpZ051bWJlciB7XG4gIGxldCBhbW91bnQgPSBuZXcgQmlnTnVtYmVyKDApO1xuICBmb3IgKGxldCBbaWQsIHF1YW50aXR5XSBvZiBPYmplY3QuZW50cmllcyhxdWVyeSkpIHtcbiAgICBjb25zdCBwcm9kdWN0ID0gcHJvZHVjdHMuZmluZChwID0+IHAuaWQgPT09IGlkKVxuICAgIGlmICghcHJvZHVjdCkgY29udGludWU7XG5cbiAgICBjb25zdCBwcmljZSA9IHByb2R1Y3QucHJpY2VTb2xcbiAgICBjb25zdCBwcm9kdWN0UXVhbnRpdHkgPSBuZXcgQmlnTnVtYmVyKHF1YW50aXR5IGFzIHN0cmluZylcbiAgICBhbW91bnQgPSBhbW91bnQucGx1cyhwcm9kdWN0UXVhbnRpdHkubXVsdGlwbGllZEJ5KHByaWNlKSlcbiAgfVxuXG4gIHJldHVybiBhbW91bnRcbn1cbiJdLCJuYW1lcyI6WyJCaWdOdW1iZXIiLCJwcm9kdWN0cyIsImNhbGN1bGF0ZVByaWNlIiwicXVlcnkiLCJhbW91bnQiLCJpZCIsInF1YW50aXR5IiwiT2JqZWN0IiwiZW50cmllcyIsInByb2R1Y3QiLCJmaW5kIiwicCIsInByaWNlIiwicHJpY2VTb2wiLCJwcm9kdWN0UXVhbnRpdHkiLCJwbHVzIiwibXVsdGlwbGllZEJ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/calculatePrice.ts\n");

/***/ }),

/***/ "(api)/./lib/products.ts":
/*!*************************!*\
  !*** ./lib/products.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"products\": () => (/* binding */ products)\n/* harmony export */ });\nconst products = [\n    {\n        id: 'mochi-donut',\n        name: 'Mochi Donut',\n        description: 'A delicious homemade mochi donut',\n        unitName: 'donut',\n        priceSol: 0.02,\n        priceUsd: 2\n    },\n    {\n        id: 'dozen-mochi-donuts',\n        name: 'One Dozen Mochi Donuts',\n        description: 'A box of a dozen homemade mochi donuts',\n        unitName: 'box',\n        priceSol: 0.17,\n        priceUsd: 17\n    }\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJvZHVjdHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLEtBQUssQ0FBQ0EsUUFBUSxHQUFHLENBQUM7SUFDdkIsQ0FBQztRQUNDQyxFQUFFLEVBQUUsQ0FBYTtRQUNqQkMsSUFBSSxFQUFFLENBQWE7UUFDbkJDLFdBQVcsRUFBRSxDQUFrQztRQUMvQ0MsUUFBUSxFQUFFLENBQU87UUFDakJDLFFBQVEsRUFBRSxJQUFJO1FBQ2RDLFFBQVEsRUFBRSxDQUFDO0lBQ2IsQ0FBQztJQUNELENBQUM7UUFDQ0wsRUFBRSxFQUFFLENBQW9CO1FBQ3hCQyxJQUFJLEVBQUUsQ0FBd0I7UUFDOUJDLFdBQVcsRUFBRSxDQUF3QztRQUNyREMsUUFBUSxFQUFFLENBQUs7UUFDZkMsUUFBUSxFQUFFLElBQUk7UUFDZEMsUUFBUSxFQUFFLEVBQUU7SUFDZCxDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9wcm9kdWN0cy50cz8xYWRhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBwcm9kdWN0cyA9IFtcbiAge1xuICAgIGlkOiAnbW9jaGktZG9udXQnLFxuICAgIG5hbWU6ICdNb2NoaSBEb251dCcsXG4gICAgZGVzY3JpcHRpb246ICdBIGRlbGljaW91cyBob21lbWFkZSBtb2NoaSBkb251dCcsXG4gICAgdW5pdE5hbWU6ICdkb251dCcsIC8vIHNob3dzIGFmdGVyIHRoZSBwcmljZSwgZWcuIDAuMDUgU09ML2JveFxuICAgIHByaWNlU29sOiAwLjAyLFxuICAgIHByaWNlVXNkOiAyLFxuICB9LFxuICB7XG4gICAgaWQ6ICdkb3plbi1tb2NoaS1kb251dHMnLFxuICAgIG5hbWU6ICdPbmUgRG96ZW4gTW9jaGkgRG9udXRzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0EgYm94IG9mIGEgZG96ZW4gaG9tZW1hZGUgbW9jaGkgZG9udXRzJyxcbiAgICB1bml0TmFtZTogJ2JveCcsXG4gICAgcHJpY2VTb2w6IDAuMTcsXG4gICAgcHJpY2VVc2Q6IDE3LFxuICB9XG5dXG4iXSwibmFtZXMiOlsicHJvZHVjdHMiLCJpZCIsIm5hbWUiLCJkZXNjcmlwdGlvbiIsInVuaXROYW1lIiwicHJpY2VTb2wiLCJwcmljZVVzZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/products.ts\n");

/***/ }),

/***/ "(api)/./pages/api/makeTransaction.ts":
/*!**************************************!*\
  !*** ./pages/api/makeTransaction.ts ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @solana/wallet-adapter-base */ \"@solana/wallet-adapter-base\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @solana/web3.js */ \"@solana/web3.js\");\n/* harmony import */ var _solana_web3_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_addresses__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/addresses */ \"(api)/./lib/addresses.ts\");\n/* harmony import */ var _lib_calculatePrice__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/calculatePrice */ \"(api)/./lib/calculatePrice.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__]);\n_solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nasync function handler(req, res) {\n    try {\n        const amount = (0,_lib_calculatePrice__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(req.query);\n        if (amount.toNumber() === 0) {\n            res.status(400).json({\n                error: \"Can't checkout with charge of 0\"\n            });\n            return;\n        }\n        const { reference  } = req.query;\n        if (!reference) {\n            res.status(400).json({\n                error: \"No reference provided\"\n            });\n            return;\n        }\n        const { account  } = req.body;\n        if (!account) {\n            res.status(400).json({\n                error: \"No account provided\"\n            });\n            return;\n        }\n        const buyerPublicKey = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(account);\n        const shopPublicKey = _lib_addresses__WEBPACK_IMPORTED_MODULE_2__.shopAddress;\n        const network = _solana_wallet_adapter_base__WEBPACK_IMPORTED_MODULE_0__.WalletAdapterNetwork.Devnet;\n        const endpoint = (0,_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.clusterApiUrl)(network);\n        const connection = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Connection(endpoint);\n        const { blockhash  } = await connection.getLatestBlockhash('finalized');\n        const transaction = new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.Transaction({\n            recentBlockhash: blockhash,\n            feePayer: buyerPublicKey\n        });\n        const transferInstruction = _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.SystemProgram.transfer({\n            fromPubkey: buyerPublicKey,\n            lamports: amount.multipliedBy(_solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.LAMPORTS_PER_SOL).toNumber(),\n            toPubkey: shopPublicKey\n        });\n        transferInstruction.keys.push({\n            pubkey: new _solana_web3_js__WEBPACK_IMPORTED_MODULE_1__.PublicKey(reference),\n            isSigner: false,\n            isWritable: false\n        });\n        transaction.add(transferInstruction);\n        const serializedTransaction = transaction.serialize({\n            requireAllSignatures: false\n        });\n        const base64 = serializedTransaction.toString('base64');\n        res.status(200).json({\n            transaction: base64,\n            message: \"Thanks for your order! ðŸ©\"\n        });\n    } catch (err) {\n        console.error(err);\n        res.status(500).json({\n            error: 'error creating transaction'\n        });\n        return;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvbWFrZVRyYW5zYWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFrRTtBQUNrRDtBQUVuRTtBQUNJO0FBZXRDLGVBQWVTLE9BQU8sQ0FDbkNDLEdBQW1CLEVBQ25CQyxHQUE2RCxFQUM3RCxDQUFDO0lBQ0QsR0FBRyxDQUFDLENBQUM7UUFDSCxLQUFLLENBQUNDLE1BQU0sR0FBR0osK0RBQWMsQ0FBQ0UsR0FBRyxDQUFDRyxLQUFLO1FBQ3ZDLEVBQUUsRUFBRUQsTUFBTSxDQUFDRSxRQUFRLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDNUJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsRUFBRUMsSUFBSSxDQUFDLENBQUM7Z0JBQUNDLEtBQUssRUFBRSxDQUFpQztZQUFDLENBQUM7WUFDakUsTUFBTTtRQUNSLENBQUM7UUFFRCxLQUFLLENBQUMsQ0FBQyxDQUFDQyxTQUFTLEVBQUMsQ0FBQyxHQUFHUixHQUFHLENBQUNHLEtBQUs7UUFDL0IsRUFBRSxHQUFHSyxTQUFTLEVBQUUsQ0FBQztZQUNmUCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQyxDQUFDO2dCQUFDQyxLQUFLLEVBQUUsQ0FBdUI7WUFBQyxDQUFDO1lBQ3ZELE1BQU07UUFDUixDQUFDO1FBRUQsS0FBSyxDQUFDLENBQUMsQ0FBQ0UsT0FBTyxFQUFDLENBQUMsR0FBR1QsR0FBRyxDQUFDVSxJQUFJO1FBQzVCLEVBQUUsR0FBR0QsT0FBTyxFQUFFLENBQUM7WUFDYlIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztnQkFBQ0MsS0FBSyxFQUFFLENBQXFCO1lBQUMsQ0FBQztZQUNyRCxNQUFNO1FBQ1IsQ0FBQztRQUNELEtBQUssQ0FBQ0ksY0FBYyxHQUFHLEdBQUcsQ0FBQ2xCLHNEQUFTLENBQUNnQixPQUFPO1FBQzVDLEtBQUssQ0FBQ0csYUFBYSxHQUFHZix1REFBVztRQUVqQyxLQUFLLENBQUNnQixPQUFPLEdBQUd2QixvRkFBMkI7UUFDM0MsS0FBSyxDQUFDeUIsUUFBUSxHQUFHeEIsOERBQWEsQ0FBQ3NCLE9BQU87UUFDdEMsS0FBSyxDQUFDRyxVQUFVLEdBQUcsR0FBRyxDQUFDeEIsdURBQVUsQ0FBQ3VCLFFBQVE7UUFFMUMsS0FBSyxDQUFDLENBQUMsQ0FBQ0UsU0FBUyxFQUFDLENBQUMsR0FBRyxLQUFLLENBQUVELFVBQVUsQ0FBQ0Usa0JBQWtCLENBQUMsQ0FBVztRQUV0RSxLQUFLLENBQUNDLFdBQVcsR0FBRyxHQUFHLENBQUN6Qix3REFBVyxDQUFDLENBQUM7WUFDbkMwQixlQUFlLEVBQUVILFNBQVM7WUFDMUJJLFFBQVEsRUFBRVYsY0FBYztRQUMxQixDQUFDO1FBRUQsS0FBSyxDQUFDVyxtQkFBbUIsR0FBRzNCLG1FQUFzQixDQUFDLENBQUM7WUFDbEQ2QixVQUFVLEVBQUViLGNBQWM7WUFDMUJjLFFBQVEsRUFBRXZCLE1BQU0sQ0FBQ3dCLFlBQVksQ0FBQzlCLDZEQUFnQixFQUFFUSxRQUFRO1lBQ3hEdUIsUUFBUSxFQUFFZixhQUFhO1FBQ3pCLENBQUM7UUFFRFUsbUJBQW1CLENBQUNNLElBQUksQ0FBQ0MsSUFBSSxDQUFDLENBQUM7WUFDN0JDLE1BQU0sRUFBRSxHQUFHLENBQUNyQyxzREFBUyxDQUFDZSxTQUFTO1lBQy9CdUIsUUFBUSxFQUFFLEtBQUs7WUFDZkMsVUFBVSxFQUFFLEtBQUs7UUFDbkIsQ0FBQztRQUVEYixXQUFXLENBQUNjLEdBQUcsQ0FBQ1gsbUJBQW1CO1FBRW5DLEtBQUssQ0FBQ1kscUJBQXFCLEdBQUdmLFdBQVcsQ0FBQ2dCLFNBQVMsQ0FBQyxDQUFDO1lBQ25EQyxvQkFBb0IsRUFBRSxLQUFLO1FBQzdCLENBQUM7UUFDRCxLQUFLLENBQUNDLE1BQU0sR0FBR0gscUJBQXFCLENBQUNJLFFBQVEsQ0FBQyxDQUFRO1FBRXREckMsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUNwQmEsV0FBVyxFQUFFa0IsTUFBTTtZQUNuQkUsT0FBTyxFQUFFLENBQTBCO1FBQ3JDLENBQUM7SUFDSCxDQUFDLENBQUMsS0FBSyxFQUFFQyxHQUFHLEVBQUUsQ0FBQztRQUNiQyxPQUFPLENBQUNsQyxLQUFLLENBQUNpQyxHQUFHO1FBRWpCdkMsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUFDQyxLQUFLLEVBQUUsQ0FBNEI7UUFBRSxDQUFDO1FBQzdELE1BQU07SUFDUixDQUFDO0FBQ0gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL2FwaS9tYWtlVHJhbnNhY3Rpb24udHM/NTdhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBXYWxsZXRBZGFwdGVyTmV0d29yayB9IGZyb20gXCJAc29sYW5hL3dhbGxldC1hZGFwdGVyLWJhc2VcIlxuaW1wb3J0IHsgY2x1c3RlckFwaVVybCwgQ29ubmVjdGlvbiwgUHVibGljS2V5LCBUcmFuc2FjdGlvbiwgU3lzdGVtUHJvZ3JhbSwgTEFNUE9SVFNfUEVSX1NPTCB9IGZyb20gXCJAc29sYW5hL3dlYjMuanNcIlxuaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCJcbmltcG9ydCB7IHNob3BBZGRyZXNzIH0gZnJvbSBcIi4uLy4uL2xpYi9hZGRyZXNzZXNcIlxuaW1wb3J0IGNhbGN1bGF0ZVByaWNlIGZyb20gXCIuLi8uLi9saWIvY2FsY3VsYXRlUHJpY2VcIlxuXG5leHBvcnQgdHlwZSBNYWtlVHJhbnNhY3Rpb25JbnB1dERhdGEgPSB7XG4gIGFjY291bnQ6IHN0cmluZyxcbn1cblxuZXhwb3J0IHR5cGUgTWFrZVRyYW5zYWN0aW9uT3V0cHV0RGF0YSA9IHtcbiAgdHJhbnNhY3Rpb246IHN0cmluZyxcbiAgbWVzc2FnZTogc3RyaW5nLFxufVxuXG50eXBlIEVycm9yT3V0cHV0ID0ge1xuICBlcnJvcjogc3RyaW5nXG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlPE1ha2VUcmFuc2FjdGlvbk91dHB1dERhdGEgfCBFcnJvck91dHB1dD5cbikge1xuICB0cnkge1xuICAgIGNvbnN0IGFtb3VudCA9IGNhbGN1bGF0ZVByaWNlKHJlcS5xdWVyeSlcbiAgICBpZiAoYW1vdW50LnRvTnVtYmVyKCkgPT09IDApIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiQ2FuJ3QgY2hlY2tvdXQgd2l0aCBjaGFyZ2Ugb2YgMFwiIH0pXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBjb25zdCB7IHJlZmVyZW5jZSB9ID0gcmVxLnF1ZXJ5XG4gICAgaWYgKCFyZWZlcmVuY2UpIHtcbiAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6IFwiTm8gcmVmZXJlbmNlIHByb3ZpZGVkXCIgfSlcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHsgYWNjb3VudCB9ID0gcmVxLmJvZHkgYXMgTWFrZVRyYW5zYWN0aW9uSW5wdXREYXRhXG4gICAgaWYgKCFhY2NvdW50KSB7XG4gICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiBcIk5vIGFjY291bnQgcHJvdmlkZWRcIiB9KVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnN0IGJ1eWVyUHVibGljS2V5ID0gbmV3IFB1YmxpY0tleShhY2NvdW50KVxuICAgIGNvbnN0IHNob3BQdWJsaWNLZXkgPSBzaG9wQWRkcmVzc1xuXG4gICAgY29uc3QgbmV0d29yayA9IFdhbGxldEFkYXB0ZXJOZXR3b3JrLkRldm5ldFxuICAgIGNvbnN0IGVuZHBvaW50ID0gY2x1c3RlckFwaVVybChuZXR3b3JrKVxuICAgIGNvbnN0IGNvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbihlbmRwb2ludClcblxuICAgIGNvbnN0IHsgYmxvY2toYXNoIH0gPSBhd2FpdCAoY29ubmVjdGlvbi5nZXRMYXRlc3RCbG9ja2hhc2goJ2ZpbmFsaXplZCcpKVxuXG4gICAgY29uc3QgdHJhbnNhY3Rpb24gPSBuZXcgVHJhbnNhY3Rpb24oe1xuICAgICAgcmVjZW50QmxvY2toYXNoOiBibG9ja2hhc2gsXG4gICAgICBmZWVQYXllcjogYnV5ZXJQdWJsaWNLZXksXG4gICAgfSlcblxuICAgIGNvbnN0IHRyYW5zZmVySW5zdHJ1Y3Rpb24gPSBTeXN0ZW1Qcm9ncmFtLnRyYW5zZmVyKHtcbiAgICAgIGZyb21QdWJrZXk6IGJ1eWVyUHVibGljS2V5LFxuICAgICAgbGFtcG9ydHM6IGFtb3VudC5tdWx0aXBsaWVkQnkoTEFNUE9SVFNfUEVSX1NPTCkudG9OdW1iZXIoKSxcbiAgICAgIHRvUHVia2V5OiBzaG9wUHVibGljS2V5LFxuICAgIH0pXG5cbiAgICB0cmFuc2Zlckluc3RydWN0aW9uLmtleXMucHVzaCh7XG4gICAgICBwdWJrZXk6IG5ldyBQdWJsaWNLZXkocmVmZXJlbmNlKSxcbiAgICAgIGlzU2lnbmVyOiBmYWxzZSxcbiAgICAgIGlzV3JpdGFibGU6IGZhbHNlLFxuICAgIH0pXG5cbiAgICB0cmFuc2FjdGlvbi5hZGQodHJhbnNmZXJJbnN0cnVjdGlvbilcblxuICAgIGNvbnN0IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbiA9IHRyYW5zYWN0aW9uLnNlcmlhbGl6ZSh7XG4gICAgICByZXF1aXJlQWxsU2lnbmF0dXJlczogZmFsc2VcbiAgICB9KVxuICAgIGNvbnN0IGJhc2U2NCA9IHNlcmlhbGl6ZWRUcmFuc2FjdGlvbi50b1N0cmluZygnYmFzZTY0JylcblxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgIHRyYW5zYWN0aW9uOiBiYXNlNjQsXG4gICAgICBtZXNzYWdlOiBcIlRoYW5rcyBmb3IgeW91ciBvcmRlciEg8J+NqVwiLFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcblxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdlcnJvciBjcmVhdGluZyB0cmFuc2FjdGlvbicsIH0pXG4gICAgcmV0dXJuXG4gIH1cbn0iXSwibmFtZXMiOlsiV2FsbGV0QWRhcHRlck5ldHdvcmsiLCJjbHVzdGVyQXBpVXJsIiwiQ29ubmVjdGlvbiIsIlB1YmxpY0tleSIsIlRyYW5zYWN0aW9uIiwiU3lzdGVtUHJvZ3JhbSIsIkxBTVBPUlRTX1BFUl9TT0wiLCJzaG9wQWRkcmVzcyIsImNhbGN1bGF0ZVByaWNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImFtb3VudCIsInF1ZXJ5IiwidG9OdW1iZXIiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJyZWZlcmVuY2UiLCJhY2NvdW50IiwiYm9keSIsImJ1eWVyUHVibGljS2V5Iiwic2hvcFB1YmxpY0tleSIsIm5ldHdvcmsiLCJEZXZuZXQiLCJlbmRwb2ludCIsImNvbm5lY3Rpb24iLCJibG9ja2hhc2giLCJnZXRMYXRlc3RCbG9ja2hhc2giLCJ0cmFuc2FjdGlvbiIsInJlY2VudEJsb2NraGFzaCIsImZlZVBheWVyIiwidHJhbnNmZXJJbnN0cnVjdGlvbiIsInRyYW5zZmVyIiwiZnJvbVB1YmtleSIsImxhbXBvcnRzIiwibXVsdGlwbGllZEJ5IiwidG9QdWJrZXkiLCJrZXlzIiwicHVzaCIsInB1YmtleSIsImlzU2lnbmVyIiwiaXNXcml0YWJsZSIsImFkZCIsInNlcmlhbGl6ZWRUcmFuc2FjdGlvbiIsInNlcmlhbGl6ZSIsInJlcXVpcmVBbGxTaWduYXR1cmVzIiwiYmFzZTY0IiwidG9TdHJpbmciLCJtZXNzYWdlIiwiZXJyIiwiY29uc29sZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/makeTransaction.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/makeTransaction.ts"));
module.exports = __webpack_exports__;

})();